# Environment
ENV=prod
PORT=8000

# Database (Supabase)
DATABASE_URL=postgresql://<user>:<password>@<host>:5432/<database>

# Token storage (Supabase remplace Redis)
TOKEN_STORE_TYPE=supabase
SUPABASE_URL=https://<your-project>.supabase.co

# Clés Supabase (configurez selon vos besoins)
# Option 1: Clés séparées (recommandé pour production)
SUPABASE_ANON_KEY=<your-anon-key>                    # Pour authentification utilisateur (login)
SUPABASE_SERVICE_ROLE_KEY=<your-service-role-key>    # Pour opérations admin (stockage tokens, vérification)

# Option 2: Clé générique (fallback si les clés séparées ne sont pas définies)
# SUPABASE_KEY=<your-key>                             # Utilisée si ANON_KEY ou SERVICE_ROLE_KEY absentes

SUPABASE_TOKENS_TABLE=tokens

# Tesla Partner Credentials (M2M)
TESLA_CLIENT_ID=<partner_client_id>
TESLA_CLIENT_SECRET=<partner_client_secret>

# Tesla Third-Party OAuth
TP_CLIENT_ID=<third_party_client_id>
TP_CLIENT_SECRET=<third_party_client_secret>
TP_REDIRECT_URI=https://votre-domaine.com/api/auth/callback  # Backend callback (Tesla redirige ici)

# Frontend / CORS
FRONTEND_URL=https://votre-domaine.com
CORS_ORIGINS=https://votre-domaine.com

# Keys
PRIVATE_KEY_PATH=/app/app/keys/private/private_key.pem
PUBLIC_KEY_URL=https://votre-domaine.com/.well-known/appspecific/com.tesla.3p.public-key.pem
APP_DOMAIN=votre-domaine.com

# Tesla Region (eu ou na)
TESLA_REGION=eu

